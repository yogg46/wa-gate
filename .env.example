# ========================================
# WhatsApp Gateway - Environment Configuration
# ========================================

# ==========================================
# SERVER CONFIGURATION
# ==========================================
PORT=3000
NODE_ENV=production

# ==========================================
# SECURITY CONFIGURATION (WAJIB)
# ==========================================
# Generate dengan: openssl rand -hex 32
# Atau: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=your-very-long-random-secret-key-minimum-32-characters-here

# Login credentials untuk dashboard
LOGIN_USERNAME=admin
LOGIN_PASSWORD=your-secure-password-here-change-this

# ==========================================
# WHATSAPP GATEWAY CONFIGURATION (WAJIB)
# ==========================================
# API Key untuk autentikasi external apps (Laravel, etc)
# Generate dengan: openssl rand -hex 24
LARAVEL_API_KEY=your-secret-api-key-for-external-applications

# URL webhook ke aplikasi Laravel Anda
LARAVEL_WEBHOOK_URL=https://your-laravel-app.com/api/webhook/whatsapp

# ==========================================
# PM2 CONFIGURATION
# ==========================================
PM2_APP_NAME=wa-gateway

# ==========================================
# RATE LIMITING CONFIGURATION (OPTIONAL)
# ==========================================
# Maksimal percobaan login sebelum lock
MAX_LOGIN_ATTEMPTS=5

# Durasi lock setelah max attempts (dalam milidetik)
# Default: 900000 = 15 menit
LOGIN_COOLDOWN_MS=900000

# ==========================================
# MESSAGE QUEUE CONFIGURATION (OPTIONAL)
# ==========================================
# Jumlah percobaan retry untuk pesan gagal
MESSAGE_RETRY_ATTEMPTS=3

# Delay antar retry dalam milidetik
MESSAGE_RETRY_DELAY_MS=2000

# ==========================================
# LOGGING CONFIGURATION (OPTIONAL)
# ==========================================
# Berapa hari log akan disimpan sebelum dihapus otomatis
LOG_RETENTION_DAYS=14

# Ukuran maksimal file log sebelum rotasi (dalam MB)
MAX_LOG_SIZE_MB=10

# ==========================================
# CORS CONFIGURATION (OPTIONAL)
# ==========================================
# Untuk production, ganti dengan domain spesifik
# Contoh: https://yourdomain.com
CORS_ORIGIN=*

# ==========================================
# NOTES
# ==========================================
# 1. Copy file ini menjadi .env dan isi dengan nilai yang sesuai
# 2. Jangan commit file .env ke repository
# 3. Variable yang bertanda (WAJIB) harus diisi
# 4. Variable (OPTIONAL) bisa dikosongkan, akan menggunakan default value
# 5. Untuk keamanan maksimal:
#    - Gunakan password yang kuat (min 12 karakter, kombinasi huruf, angka, simbol)
#    - Generate SESSION_SECRET dan API_KEY yang random
#    - Gunakan HTTPS di production
#    - Batasi CORS_ORIGIN ke domain spesifik
#    - Jangan share credentials ke siapapun

# ==========================================
# QUICK SETUP COMMANDS
# ==========================================
# Generate SESSION_SECRET:
#   openssl rand -hex 32
#
# Generate LARAVEL_API_KEY:
#   openssl rand -hex 24
#
# Or using Node.js:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# Test configuration:
#   node -e "require('dotenv').config(); console.log('Config loaded:', Object.keys(process.env).filter(k => k.includes('LOGIN')).length > 0 ? 'OK' : 'ERROR')"